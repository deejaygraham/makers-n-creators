---

---
## 1.0 Flea Race

### Challenge

Racing fleas is a fun pastime. Let's build a game where we can race 5 fleas across the screen with the first flea to reach the right hand edge wins.

### Start

We can represent a flea moving about on the microbit screen using a single pixel. Let's create a list of two items that will represent the flea's x and y position on the screen. Remember, the left column is 0 and the right column is number 4.

```python

from microbit import *

flea = [0, 0]


```

Now we can race one flea across the screen.


```python

from microbit import *

flea = [0, 0] # x, y

# start in left column.
display.set_pixel(flea[0], flea[1], 9)

for x in range(1, 4):
    # turn off current pixel
    display.set_pixel(turtle[0], turtle[1], 0)
    # move
    flea[0] += 1
    display.set_pixel(flea[0], flea[1], 9)
    # wait so we don't move too fast
    sleep(500)        

```

### Randomness

I hope you will agree, that's not very exciting because each time you run the game, the outcome is the same.

What about if we made it different every time? We can use random (and remember to import it at the top) to mix things up a little bit.


```python

from microbit import *
import random

flea = [0, 0]

display.set_pixel(flea[0], flea[1], 9)

# increase the opportunities to move because
# we don't move every time...
for x in range(1, 10):
    # 50 % chance
    if random.randint(0, 1) == 1:
        display.set_pixel(flea[0], flea[1], 0)
        flea[0] += 1
        display.set_pixel(flea[0], flea[1], 9)

    sleep(500)        

```

We increase the number of opportunities to move from 4 to 10 because we have the random chance where we may not move in 4 turns.

There's a problem with this code, you

```python

        flea[0] += 1
        flea[0] = min(flea[0], 4)
        display.set_pixel(flea[0], flea[1], 9)

```

Now we have one flea racing with a different outcome every time, we can make preparations to race a lot of fleas.

We can do this by creating a collection of fleas and adding our single flea to it. That way we can write the code to work on the collection and don't have to worry about how many fleas (within reason) we actually create later.

So after we created a single flea, let's create a collection and add the flea to it.


```python

from microbit import *
import random

flea = [0, 0]
all_fleas = [ flea ]

```

Then we can expand our initial code to draw the fleas at their starting points.

```python

# display.set_pixel(flea[0], flea[1], 9)
for f in all_fleas:
  display.set_pixel(f[0], f[1], 9)

```

And change the main movement and drawing code to use a collection:

```python

# race !
for x in range(1, 10):
    for f in all_fleas:
      # 50 % chance
      if random.randint(0, 1) == 1:
          display.set_pixel(f[0], f[1], 0)
          f[0] += 1
          f[0] = min(f[0], 4)
          display.set_pixel(f[0], f[1], 9)

    sleep(500)        

```

Be careful to keep the sleep in line with the for loop so that the half-second delay is only done once around the loop.

Now that we have things set up, we can add more fleas. Let's given them more descriptive names:

```python

alice = [0, 0]
bob = [0, 1]
carol = [0, 2]
dave = [0, 3]
eleanor = [0, 4]

all_fleas = [ alice, bob, carol, dave, eleanor ]

```

That's the only change we need to have 5 fleas, all racing in their own lane (y coordinate).


### Cheating


display.set_pixel(flea[0], flea[1], 9)

# increase the opportunities to move because
# we don't move every time...
for x in range(1, 10):
    # 50 % chance
    if random.randint(0, 1) == 1:
        display.set_pixel(turtle[0], turtle[1], 0)
        flea[0] += 1
        display.set_pixel(flea[0], flea[1], 9)

    sleep(500)        

```


### Example Solution

```python

from microbit import *
import random

# add a speed field for each turtle
alice = [0, 0, 1]
bob = [0, 1, 2]
carol = [0, 2, 3]
dave = [0, 3, 4]
eleanor = [0, 4, 5]

turtles = [alice, bob, carol, dave, eleanor]

# line up at start
for turtle in turtles:
    display.set_pixel(turtle[0], turtle[1], 9)


# race !
for x in range(1, 10):
    for turtle in turtles:
        # will this turtle move this turn?
       if random.randint(0, turtle[2]) == 1:
            display.set_pixel(turtle[0], turtle[1], 0)
            turtle[0] += 1
            turtle[0] = min(turtle[0], 4)
            display.set_pixel(turtle[0], turtle[1], 9)

    sleep(500)        

```
